<div class="espacos-container">
  <div class="header">
    <h1>EspaÃ§os DisponÃ­veis</h1>
    <p>Encontre o espaÃ§o perfeito para seu evento</p>
  </div>

  @if (loading) {
    <app-loading></app-loading>
  } @else if (error) {
    <div class="alert alert-error">
      {{ error }}
    </div>
  } @else {
    <div class="espacos-grid">
      @for (espaco of espacos; track espaco.id) {
        <app-card [hover]="true">
          @if (espaco.urlFotoPrincipal) {
            <div class="espaco-image">
              <img [src]="espaco.urlFotoPrincipal" [alt]="espaco.nome">
            </div>
          } @else {
            <div class="espaco-image placeholder">
              <span>ğŸ“·</span>
            </div>
          }
          <div class="espaco-content">
            <h3>{{ espaco.nome }}</h3>
            <p class="espaco-descricao">{{ espaco.descricao }}</p>

            <div class="espaco-info">
              <div class="info-item">
                <span class="icon">ğŸ‘¥</span>
                <span class="value">{{ espaco.capacidade }} pessoas</span>
              </div>
              <div class="info-item">
                <span class="icon">ğŸ’°</span>
                <span class="value">R$ {{ espaco.precoDiaria | number:'1.2-2' }}</span>
              </div>
              <div class="info-item">
                <span class="icon">ğŸ“</span>
                <span class="value">{{ espaco.filial.nome || 'Filial' }}</span>
              </div>
            </div>

            <div class="espaco-actions">
              <a [routerLink]="['/espacos', espaco.id]" class="btn btn-secondary">
                Ver Detalhes
              </a>
              <a [routerLink]="['/reservas/nova']" [queryParams]="{espacoId: espaco.id}" class="btn btn-primary">
                Reservar
              </a>
            </div>
          </div>
        </app-card>
      } @empty {
        <div class="empty-state">
          <p>Nenhum espaÃ§o disponÃ­vel no momento</p>
        </div>
      }
    </div>
  }
</div>
