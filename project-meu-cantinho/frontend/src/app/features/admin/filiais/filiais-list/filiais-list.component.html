<div class="filiais-container">
  <div class="header">
    <h1>Gerenciar Filiais</h1>
    <button class="btn btn-primary" (click)="createFilial()">
      <i class="bi bi-plus-circle"></i> Nova Filial
    </button>
  </div>

  <app-loading *ngIf="loading"></app-loading>

  <div *ngIf="error" class="alert alert-danger">
    {{ error }}
  </div>

  <div class="filiais-grid" *ngIf="!loading && !error">
    <app-card *ngFor="let filial of filiais" [title]="filial.nome" [hover]="true" [hasFooter]="true">
      <div class="filial-info">
        <p><strong>Cidade:</strong> {{ filial.cidade }}</p>
        <p><strong>Estado:</strong> {{ filial.estado }}</p>
        <p *ngIf="filial.endereco"><strong>EndereÃ§o:</strong> {{ filial.endereco }}</p>
        <p *ngIf="filial.telefone"><strong>Telefone:</strong> {{ filial.telefone }}</p>
      </div>
      <div class="card-actions" footer>
        <button class="btn btn-info btn-sm" (click)="viewFilial(filial.id)">
          <i class="bi bi-eye"></i> Ver
        </button>
        <button class="btn btn-warning btn-sm" (click)="editFilial(filial.id)">
          <i class="bi bi-pencil"></i> Editar
        </button>
        <button class="btn btn-danger btn-sm" (click)="deleteFilial(filial.id)">
          <i class="bi bi-trash"></i> Excluir
        </button>
      </div>
    </app-card>
  </div>

  <div *ngIf="!loading && !error && filiais.length === 0" class="empty-state">
    <p>Nenhuma filial cadastrada.</p>
    <button class="btn btn-primary" (click)="createFilial()">
      Cadastrar primeira filial
    </button>
  </div>
</div>
